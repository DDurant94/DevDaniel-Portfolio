/**
 * Root Styles & Global Reset - Foundation styles with CSS reset and utility classes
 */

/* Import shared animations - must come before other CSS rules */
@import './Animations.css';

/* =====================================================================
   GLOBAL RESET & DESIGN TOKENS
   ---------------------------------------------------------------------
   Strategy:
   1. Base primitive palette (grays + brand hues).
   2. Semantic aliases (bg, surface, text, border, accent, states).
   3. Scales: spacing, sizing, typography (fluid), radii, shadows, z, motion.
   4. Responsive helpers (breakpoints) + media query tokens.
   5. Dark mode + reduced motion overrides appended at end of file.

   Migration:
   - Old variables preserved where already referenced; map to new names.
   - Prefer semantic tokens (e.g., var(--color-bg)) over raw brand tokens.
====================================================================== */

/* === RESET === */
*, *::before, *::after { box-sizing: border-box; }
html { 
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  text-size-adjust: 100%;
  scroll-behavior: auto;
}

html.lenis,
html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

body, h1, h2, h3, h4, h5, h6, p, figure, blockquote { margin: 0; }
ul[role='list'], ol[role='list'] { list-style: none; margin: 0; padding: 0; }
body { min-height: 100dvh; text-rendering: optimizeLegibility; }
img, picture, video, canvas, svg { display: block; max-width: 100%; }
input, button, textarea, select { font: inherit; }
button { cursor: pointer; }

/* === BASE LAYOUT === */
#main-body { background-color: var(--color-bg); color: var(--color-text); font-family: var(--font-family-sans); line-height: var(--line-height-base); visibility: visible; }
main, footer { max-width: var(--container-max-width); margin-inline: auto; padding-inline: var(--space-4); }
section { 
  padding-block: var(--space-section-y);
  /* Improve rendering performance by containing layout/paint */
  contain: layout paint;
  /* Hint browser to defer rendering off-screen sections */
  /* content-visibility support: Chrome 85+, Edge 85+ */
  content-visibility: auto;
  /* Fallback for browsers without content-visibility */
  @supports not (content-visibility: auto) {
    will-change: auto;
  }
}

/* Utility classes (opt-in) */
.stack-sm > * + * { margin-top: var(--space-2); }
.stack-md > * + * { margin-top: var(--space-4); }
.stack-lg > * + * { margin-top: var(--space-6); }
.sr-only { position: absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }

/* Fluid containers */
.container { width:100%; max-width: var(--container-max-width); margin-inline:auto; padding-inline: var(--space-4); }
.container-narrow { max-width: var(--container-narrow); }
.container-readable { max-width: var(--container-readable); }

/* === Responsive Adjustments (mobile-first) === */
@media (min-width: 768px) {
  :root { --top-margin: var(--space-10); }
}
@media (min-width: 1024px) {
  :root { --top-margin: var(--space-12); }
}

.loading-spinner {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 200px;
  font-size: var(--font-size-md);
  color: var(--color-text-mute);
}

.pressable { position: relative; }

.pressable-edge::after { content:''; position:absolute; inset:0; border-radius:inherit; pointer-events:none; box-shadow: var(--pressable-edge-inset); opacity:.55; transition: opacity .35s ease; }
.pressable-edge:hover::after,
.pressable-edge:focus-visible::after { opacity:.85; }

.pressable-glow-outline:hover,
.pressable-glow-outline:focus-visible { box-shadow: var(--pressable-glow-stack-outline); }
.pressable-glow-inset:hover,
.pressable-glow-inset:focus-visible { box-shadow: var(--pressable-glow-stack-inset); }

.pressable.is-pressed,
.pressable:active { box-shadow: var(--pressable-pressed-stack); transform: translateY(0) scale(.985); }